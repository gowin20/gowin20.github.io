<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;1,100;1,300;1,400;1,700&family=Montserrat:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,900;1,200;1,300;1,400;1,500;1,600;1,700;1,900&display=swap" rel="stylesheet">  
  <link rel="icon" type="image/x-icon" href="/images/favicon.ico">

  
  <style>
    body{background-color:#f7f7f7;margin:0;font-family:Georgia,sans-serif;font-size:18px;line-height:1.7;min-height:100vh;padding:0}html{height:100vh;padding:0}.org{display:flex;flex-direction:row;min-height:100vh}.topmatter{display:flex;flex-direction:row;font-family:Montserrat,sans-serif;border-width:1px}.top-name{display:block;color:#616365;text-decoration:none;margin:0;font-size:60px;line-height:1.2;letter-spacing:-1px;font-family:Montserrat,sans-serif;font-weight:300;overflow:hidden}.top-name:hover{color:#000}h1{font-size:36px;line-height:1.2;margin:0 0 30px 0;letter-spacing:-1px;font-weight:400;font-family:Montserrat,sans-serif}h2{font-weight:500;font-family:Montserrat,sans-serif;font-size:24px;margin:0 0 30px 0}.content-pane{position:absolute;left:100px;top:0;width:calc(100% - 105px);min-height:100%;height:100%}.content-spacing{margin:0;padding:14px 0 0 40px;min-height:calc(100% - 14px);max-width:1000px;width:calc(100% - 100px);position:relative;display:flex;flex-direction:column}.root-page{margin:0;padding-top:24px}.root-footer{margin-top:auto;padding-bottom:10px}.blog-visual{max-height:100vh;max-width:400px;object-fit:contain}.post-title{display:block;margin:39px 0 0 0;font-size:45px;letter-spacing:-1px;font-weight:400;font-family:Montserrat,sans-serif;overflow:visible}.post-bg{margin:-12px 0 0 1px;width:100%;min-height:100%;background-color:#f7f7f7}.post-size{margin:0 0 32px 0;max-width:820px;width:100%}.post-size p{font-size:18px;margin-bottom:25px;line-height:1.7;font-family:Georgia,'serif'}.post-content{margin:20px 0 0 0}article pre{overflow:auto;border-radius:4px;padding:25px 15px;background-color:#e7e7e7}.backButton{text-decoration:none;color:#5e5e5e;font-size:18px;font-family:Montserrat,Sans-serif}.recent-grid{display:grid;grid-template-columns:auto auto;gap:10px}.post-buffer{position:absolute}.socials{margin:0 auto 0 0;padding:0;overflow:hidden;display:flex;flex-direction:row}.socials div{margin:0 10px 0 10px}.social{fill:#5e5e5e}.social:hover{fill:black}.caption{color:#939599;font-size:16px}@media only screen and (min-width:590px){.root-page{width:534px}}@media only screen and (max-width:670px){.content-pane{position:absolute;left:0;right:0;width:100vw}.top-name{display:block;width:100%;font-size:10vw;margin:25px auto 25px auto}.content-spacing{padding:20px 20px 40px 20px}.recent-grid{grid-template-columns:auto}}@media only screen and (min-width:1000px){.root-page{width:746px}.about-text{margin:0 0 0 24px}.recent-grid{grid-template-columns:auto auto;gap:200px}.content-pane{position:absolute;left:200px;width:calc(100% - 205px)}.top-name{margin:4px 0 4px 0;font-size:75px}}@media only screen and (min-width:1224px){.root-page{width:960px}}#sidebar{position:fixed;left:0;top:0;bottom:0;width:100px;background-color:#e7e7e7;border-width:1px}#cornerMap{width:100px;height:100%;z-index:0}.name-gwen{font-size:25px}.name-george{font-size:22px}.side-name{top:100px;width:180px;height:40px;color:#5e5e5e;text-decoration:none;margin:0 5px;padding:5px 5px 0 5px;text-align:center;line-height:1.2;letter-spacing:0;font-family:Montserrat,sans-serif;font-weight:300;z-index:5;position:absolute;background-color:#e7e7e7;cursor:pointer}.side-name:hover{color:#000}.name-full{display:none}.name-mini{display:block}.nav{margin:0 5px;padding:0 5px;position:absolute;top:140px;left:0;z-index:5;border-radius:0;width:180px;background-color:#e7e7e7}#navlist{list-style-type:none;overflow:hidden;display:flex;flex-direction:column;justify-content:center;padding:0;margin:0;font-family:Montserrat,'sans-serif';font-size:23px}#navlist li{height:44px;width:75px;margin:12px 0 12px 12.5px;display:flex;flex-direction:row;color:#5e5e5e;text-align:center;text-decoration:none}#navlist li span{margin:0}#navlist li:hover{color:#000}.nav-img{display:none;width:75px;height:44px}.nav-img img{height:100%;margin:0}.activeNav{color:#000!important}@media only screen and (max-width:670px){#sidebar{display:none}#cornerMap{display:none}.navlist{flex-direction:column}}@media only screen and (min-width:1000px){.name-full{display:block}.name-mini{display:none}#sidebar{width:200px}#cornerMap{width:200px}.nav-img{display:block}#navlist li{width:150px;margin:12px 0 12px 25px}}
  </style>
  
  <title>Building image mosaics - Beyond the traditional grid | Gwen</title>

</head>
<body>
<div class="org">
    
<div id="sidebar">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI="
crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
    integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
    crossorigin=""></script>

<!-- Load Esri Leaflet from CDN -->
<div id="cornerMap"></div>
<script src="https://unpkg.com/esri-leaflet@^3.0.8/dist/esri-leaflet.js"></script>
<script src="https://unpkg.com/esri-leaflet-vector@4.0.0/dist/esri-leaflet-vector.js"></script>
<script>

    //34.04523, -118.25701
    const lat = (Math.random() *0.04) + 34.04523
    const long = (Math.random() *0.04) + -118.25701

    var map = new L.Map("cornerMap", {
        center: new L.LatLng(lat, long),
        zoom:13,
        minZoom:13,
        maxZoom:13,
        zoomControl:false,
        dragging:false,
        doubleClickZoom:false
    });

    const apiKey = "AAPK4bcb23df38f348258205214f35ff7fd3DlCWuDcMvn7vEz4lrQM0U6uXU8RrOpHkWwNWC_4uaK_zh8GDHbfGo4h47UT2I0-U";

    const itemID = "f04f33b9626240f084cb52f0b08758ef";
    L.esri.Vector.vectorBasemapLayer(itemID, {
        apiKey: apiKey
    }).addTo(map);

    document.getElementsByClassName( 'leaflet-control-attribution' )[0].style.display = 'none';
</script>

<div onclick="location.href='/blog'" class="side-name name-full name-gwen">GWEN</div>
<div onclick="location.href='/blog'" class="side-name name-mini">GWEN</div>



<div class="nav"> 
    <ul id="navlist">
        <li onclick="location.href='/';" style="cursor: pointer;" class="navItem" id="nav-0">
            <div class="nav-img" id="nav-art-0"><img src="/images/nav-off.svg" alt=""/></div>
            <span>home</span>
        </li>
        <li onclick="location.href='/blog';" style="cursor: pointer;" class="navItem" id="nav-1">
            <div class="nav-img" id="nav-art-1"><img src="/images/nav-off.svg" alt=""/></div>
            <span>blog</span>
        </li>
            <li onclick="location.href='/projects';" style="cursor: pointer;" class="navItem" id="nav-2">
            <div class="nav-img" id="nav-art-2"><img src="/images/nav-off.svg" alt=""/></div>
            <span>folio</span>
        </li>
    </ul>
</div>
  <script>
    const urls = [
    ".dev/$", //TODO change this to live domain extension!
    "/blog*",
    "/projects*",
    ]

    const navImg_ON = `<img src="/images/nav-on.svg" alt=""/>`
    const navImg_OFF = `<img src="/images/nav-off.svg" alt=""/>`
    const navImg_ON_H = `<img src="/images/nav-on-h.png" alt=""/>`
    const navImg_OFF_H = `<img src="/images/nav-off-h.svg" alt=""/>`

    const navItems = document.getElementsByClassName("navItem");

    const thisUrl = String(window.location);
    for (let i=0;i<navItems.length;i++) {
        const navImg = document.getElementById("nav-art-"+i);
        const navItem = document.getElementById("nav-"+i);
        if (thisUrl.match(urls[i])) {
            //add img to current active
            navImg.innerHTML= navImg_ON;

            navItem.classList += " activeNav";
        }
        else {
            
            navItem.addEventListener("mouseover",()=>{
                navImg.innerHTML = navImg_OFF_H;
            });
            navItem.addEventListener("mouseout",()=>{
                navImg.innerHTML = navImg_OFF;
            });
        }
    }
    //let activePage = document.getElementByID("activeNav");



  </script>






</div>

    <div class="content-pane">
      
<div class="post-bg">
<div class="content-spacing">
    <div class="post-size">

    <header class="post-title">
        Building image mosaics - Beyond the traditional grid
    </header>
    Mon Dec 01 2025 00:00:00 GMT+0000 (Coordinated Universal Time)

    <main class="post-content">
            <article><h2>Introduction</h2>
<p>Modern digital collections—whether art archives, comic panels, research datasets, or large media libraries—often require presenting hundreds or thousands of images in a cohesive visual layout. Creating these mosaics manually is time-consuming and error-prone, and most traditional tools (like Photoshop) quickly become unwieldy at scale.</p>
<p>This article explores the challenge of algorithmically generating large image mosaics, showcases my <code>gallery-image</code> package as an automated solution, and then examines more advanced tiling strategies, including “squaring the rectangle,” an elegant mathematical approach to dynamic layout generation. Along the way, we’ll explore why the classic grid layout dominates—and what opportunities lie beyond it.</p>
<hr>
<h2>Image mosaics are harder than they look</h2>
<p>I maintain a large collection of images—sometimes thousands at a time—that often need to be combined into a single, high-resolution mosaic. At first glance, this might seem as simple as dropping everything into Photoshop and aligning the layers. In practice, however, this approach quickly breaks down. Filesystems treat each image as its own object, and manually organizing them into a large canvas becomes tedious and error-prone.</p>
<img class="blog-visual" src="/assets/images/bmW6Le68ys-6000.jpeg" alt="Sample tiling of 15 post-it notes" loading="lazy" decoding="async">
<em class="caption">Cropping this by hand took me 15+ minutes.</em>
<p>Even assembling a relatively small mosaic of fifteen images can take 15-20 minutes of careful dragging and resizing. Scaling that process to thousands of images or more becomes completely impractical without automation.</p>
<h2>Automating the process: Introducing <code>gallery-image</code></h2>
<p>To solve this, I built an NPM package called <a href="https://www.npmjs.com/package/gallery-image"><strong><code>gallery-image</code></strong></a>, which programmatically assembles collections of images into cohesive mosaics. The tool generates large composite outputs and automatically produces IIIF (International Image Interoperability Framework) tiles, enabling the resulting images to be viewed efficiently in standard art or archival viewers.</p>
<p>When paired with the <strong><code>gallery-viewer</code></strong> client, these mosaics become zoom-friendly, interactive, and enriched with metadata on specific regions. This provides a scalable and performant way to display anything from comic book panels to densely packed archival collections.</p>
<p>To learn more about these, check out the <a href="https://gowen.dev/projects/gallery-software">landing page</a>. For now, though, with the core functionality of my project nearly complete, I've begun exploring a deeper question:<br>
<strong>Does the gallery always need to use a standard square grid?</strong></p>
<hr>
<h2>Reimagining image layouts</h2>
<p>While the grid layout covers the vast majority of use cases, it is far from the only way to arrange images. Alternative tiling techniques can produce more dynamic, aesthetically interesting, or space-efficient results—though they often introduce new algorithmic challenges.</p>
<p>There's a range of problems and solutions available here that vary in complexity. We'll get as technical as you like, depending on the questions you ask.</p>
<h2>Common layout strategies</h2>
<h3>1. Uniform grid tiling</h3>
<p>The simplest method: each image is cropped or resized to a uniform dimension and placed on a consistent grid. It’s predictable, visually stable, and easy to compute, though often visually monotonous.</p>
<img class="blog-visual" src="/assets/images/gVKHabbCDf-179.jpeg" alt="Standard square grid" loading="lazy" decoding="async">
<em class="caption">Standard grid layout for image galleries, typically represented by a 2d array.</em>
<h3>2. Offset or “Brickwork” layouts</h3>
<p>Some platforms use brick-like offsets to add visual variety. Each row or column becomes an independent unit as long as width limits are respected.</p>
<img class="blog-visual" src="/assets/images/Y4RA4GabFm-520.jpeg" alt="Image gallery with offset" loading="lazy" decoding="async">
<em class="caption">Image gallery with an offset between columns of images.</em>
<p>Simple to create and effective for stock photography, but less suitable where images share semantic relationships.</p>
<h3>3. Photomosaic layouts (“Fake Mosaics”)</h3>
<p>These layouts arrange thousands of tiny images to form a single large picture. They can be visually striking, and are certainly possible to create using my software. However, individual images tend to lose their identity as part of the greater picture.</p>
<img class="blog-visual" src="/assets/images/KjstMtUwWf-768.jpeg" alt="Photomosaic image" loading="lazy" decoding="async">
<em class="caption">Image credit: https://www.picturemosaics.com/blog/top-three-donts-photo-mosaic-design/</em>
<p>Personally, I'm not a fan at all. It feels artificial, and has no place in archival work.</p>
<h2>Pythagorean tiling - a new option</h2>
<p>Moving into uncommon, and dare-i-say-even-mathematical territory, we have the option of Pythagorean tiling. This is a geometric pattern created by alternating two square sizes in a checkerboard pattern. It's named for its relationship to the Pythagorean theorem, and is often used to construct visual proofs of the very same. <a href="https://www.geogebra.org/m/gtauzhrm">GeoGebra</a> has a nice interactive viewer that visualizes this.</p>
<img class="blog-visual" src="/assets/images/gYY3xZe-H9-549.jpeg" alt="Pythagorean tiling" loading="lazy" decoding="async">
<em class="caption">Pythagorean tiling with squares of two sizes.</em>
<p>Pythagorean tiling offers several interesting differences to the traditional layout. Some notable advantages include:</p>
<ul>
<li>Disrupts the monotony of typical grids</li>
<li>Highlights certain pieces while others can play supporting roles</li>
<li>Works well especially in horizontal-scrolling galleries</li>
<li>Easy to generate algorithmically without complex overhead</li>
<li>Visual behavior remains predictable and easy to scan</li>
</ul>
<p>I'd like to enhance gallery-image to generate Pythagorean tiles eventually. Expect this functionality to be released in version 2 or 3 of my REST API. For now though, we keep on dreaming.</p>
<h2>Squaring the rectangle: A deeper mathematical approach</h2>
<p>To explore more flexible and expressive layouts, we encounter a well-studied mathematical problem known as <strong>squaring the rectangle</strong>—subdividing a rectangle into a series of non-overlapping squares. This problem offers several appealing properties for image mosaic generation.</p>
<h3>Perfect squaring</h3>
<p>The most appealing problem to me is known as <strong>Perfect Squaring</strong> - an algorithm that ensures that every square has a unique size.</p>
<p>This approach produces visually compelling arrangements where no two regions are identical, creating a visually unique layout that well suited for promotional imagery.</p>
<img class="blog-visual" src="/assets/images/yYH0zA7gvC-396.jpeg" alt="Perfect squaring" loading="lazy" decoding="async">
<em class="caption">Squaring the rectangle with squares.</em>
<p>This could be used to great effect when combined with my image software.</p>
<p>Somewhat counterintuitively, the &quot;Perfect squaring&quot; algorithm need not be applied using squares. Any consistent aspect ratio can be used, allowing images with rectangular frames to be tiled in this manner as well. It's wonderful!</p>
<img class="blog-visual" src="/assets/images/AvjcQqSnqF-406.jpeg" alt="Perfect rectangling" loading="lazy" decoding="async">
<em class="caption">Squaring the rectangle with rectangles. Image credit: https://christophernoessel.medium.com/squared-rectangles-a-space-efficient-layout-for-ranked-graphics-de19bccb2a2d</em>
<h3>A complex problem</h3>
<p>Generating mathematically valid square-tilings is computationally complex. Fortunately, resources such as <strong>squaring.net</strong> provide catalogs of known squared rectangles, and their <strong>Bouwkamp code</strong> notation offers a standardized description format. While the problem of generating valid tilings is certainly interesting, my software will rely on perfect square tilings that already exist for now.</p>
<p>Even beyond this initial problem, applying these square tilings to images is nontrivial. Just to name a few problems:</p>
<ul>
<li>Programmatically interpreting Bouwkamp codes</li>
<li>Translating Bouwkamp codes to image pixel coordinates</li>
<li>Assembling a mosaic without collisions</li>
<li>Preserving image orientation and original resolution</li>
<li>Upscaling and downscaling images across tile sizes</li>
<li>Aligning image aspect ratios with tile shapes</li>
<li>Mapping annotations with metadata to specific screen regions</li>
</ul>
<p>Despite this complexity (or perhaps because of it?), this project is very appealing to me. As I continue refining <code>gallery-image</code>, I can't help but think of adding in this functionality. These techniques will push the boundaries of what digital galleries can look like—bringing mathematical elegance into practical, real-world design.</p>
<h2>Conclusion: Wait a bit!</h2>
<p>While there is no timeline for these features, eventually several of these novel layout designs will become available in <code>gallery-image</code>. I'm particularly excited about pythagorean tiling and bouwkamp codes. Stay tuned, and we'll see what happens in the next several major versions!</p>
</article>
    </main>

    </div>

    <a href="/blog" class="backButton"><- back</a>

</div>
</div>

    </div>
</div>
</body>
</html>